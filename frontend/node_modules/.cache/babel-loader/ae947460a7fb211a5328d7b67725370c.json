{"ast":null,"code":"var _jsxFileName = \"/Users/won-yungyeong/WEEKEND/abc/weekend_app/frontend/src/Chat.js\",\n    _s = $RefreshSig$();\n\nimport { Avatar, IconButton } from '@material-ui/core';\nimport { AttachFile, InsertEmoticon, SearchOutlined, SettingsInputAntenna } from '@material-ui/icons';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport React, { useEffect, useState } from \"react\";\nimport MicIcon from '@material-ui/icons/Mic';\nimport axios from './axios';\nimport \"./Chat.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat(_ref) {\n  _s();\n\n  let {\n    messages\n  } = _ref;\n  const [input, setInput] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(null);\n\n  const sendMessage = async e => {\n    e.preventDefault();\n    axios.post('/messages/new', {\n      message: input,\n      name: \"app\",\n      timestamp: \"Just now\",\n      received: false\n    });\n    setInput('');\n  };\n\n  const test = async e => {\n    e.preventDefault();\n    alert('a');\n  };\n\n  const onChange = e => {\n    setImage(e.target.files[0]);\n  };\n\n  const onClick = async () => {\n    const formData = new FormData();\n    formData.append('file', img);\n    const res = await axios.post('/api/upload', formData);\n    console.log(res);\n  };\n\n  const handleFileChange = event => {\n    setSelectedFile(event.target.files[0]);\n    console.log(\"event.target.files[0]:\", event.target.files[0]);\n  };\n\n  const handleFileUpload = () => {\n    const formData = new FormData();\n    formData.append(\"userfile\", selectedFile, selectedFile.name);\n    axios.post('api/uploadfile', formData).then(res => {\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat__header\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat__headerInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Room name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Last seen at...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chaht__headerRight\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          children: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"img\",\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: onClick,\n            children: /*#__PURE__*/_jsxDEV(AttachFile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          children: /*#__PURE__*/_jsxDEV(MoreVert, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat__body\",\n      children: messages.map(message => /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `chat__message ${message.received && \"chat__receiver\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chat__name\",\n          children: message.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), message.message, /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chat__timestamp\",\n          children: message.timestamp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat__footer\",\n      children: [/*#__PURE__*/_jsxDEV(InsertEmoticon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: input,\n          onChange: e => setInput(e.target.value),\n          placeholder: \"Type a message\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          type: \"submit\",\n          children: \"Send a message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chat, \"lIy5X0kbbwiMpv3kBviaeZpr4Zs=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/Users/won-yungyeong/WEEKEND/abc/weekend_app/frontend/src/Chat.js"],"names":["Avatar","IconButton","AttachFile","InsertEmoticon","SearchOutlined","SettingsInputAntenna","MoreVert","React","useEffect","useState","MicIcon","axios","Chat","messages","input","setInput","selectedFile","setSelectedFile","sendMessage","e","preventDefault","post","message","name","timestamp","received","test","alert","onChange","setImage","target","files","onClick","formData","FormData","append","img","res","console","log","handleFileChange","event","handleFileUpload","then","catch","err","map","value"],"mappings":"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","sourcesContent":["import { Avatar, IconButton } from '@material-ui/core';\nimport { AttachFile, InsertEmoticon, SearchOutlined, SettingsInputAntenna } from '@material-ui/icons';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport React, {useEffect, useState} from \"react\";\nimport MicIcon from '@material-ui/icons/Mic';\nimport axios from './axios';\nimport \"./Chat.css\"\n\n\nfunction Chat({messages}) {\n    const [input, setInput] = useState(\"\");\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    const sendMessage = async(e) =>{\n        e.preventDefault();\n\n        axios.post('/messages/new', {\n            message: input,\n            name: \"app\",\n            timestamp: \"Just now\",\n            received: false\n        });\n\n        setInput('');\n    }\n\n    const test = async(e) =>{\n        e.preventDefault();\n        alert('a')\n    }\n\n    const onChange = (e) => {\n        setImage(e.target.files[0]);\n    }\n\n    const onClick = async() => {\n        const formData = new FormData();\n        formData.append('file', img);\n        const res = await axios.post('/api/upload', formData);\n        console.log(res);\n    }\n\n    const handleFileChange = (event) => {\n        setSelectedFile(event.target.files[0]);\n        console.log(\"event.target.files[0]:\",event.target.files[0]);\n    }\n\n    const handleFileUpload = () => {\n        const formData = new FormData();\n\n        formData.append(\"userfile\", selectedFile, selectedFile.name);\n\n        axios.post('api/uploadfile', formData)\n        .then(res => {\n            console.log(res);\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    };\n\n\n    return (\n        <div className=\"chat\">\n            <div className=\"chat__header\">\n                <Avatar/>\n                <div className=\"chat__headerInfo\">\n                    <h3>Room name</h3> \n                    <p>Last seen at...</p>\n                </div>\n                <div className=\"chaht__headerRight\">\n                    <IconButton>\n                        <SearchOutlined/>\n                    </IconButton>\n                    <div>\n                        {/* <input type=\"file\" onChange={handleFileChange}/>\n                        <IconButton onClick={handleFileUpload}> */}\n                        <input type=\"img\" onChange={onChange}/>\n                        <IconButton onClick={onClick}>\n                            <AttachFile/>\n                        </IconButton>\n                    </div>\n                    <IconButton>\n                        <MoreVert/>\n                    </IconButton>\n                </div>\n            </div>\n            <div className=\"chat__body\">\n                {messages.map((message) => (\n                    <p className={`chat__message ${message.received && \"chat__receiver\"}`}>\n                    <span className=\"chat__name\">{message.name}</span>\n                        {message.message}\n                    <span className=\"chat__timestamp\">\n                        {message.timestamp}\n                    </span>\n                </p>\n                ))}\n                \n            </div>\n            <div className=\"chat__footer\">\n                <InsertEmoticon/>\n                <form>\n                    <input value={input}\n                    onChange={e => setInput(e.target.value)}\n                    placeholder=\"Type a message\" \n                    type=\"text\"\n                    />\n                    <button onClick={sendMessage} \n                    type=\"submit\">\n                        Send a message\n                    </button>\n                </form>\n                <MicIcon/>\n            </div>\n        </div>\n    );\n}\n\nexport default Chat\n"]},"metadata":{},"sourceType":"module"}